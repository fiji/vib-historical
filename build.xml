<project name="VIB" default="compile">
    
  <target name="clean">
    <delete dir="build"/>
  </target>

  <target name="compile">
    <mkdir dir="build"/>

    <!-- Remove any files that need to be regenerated: -->
    <depend srcdir="."
	    destdir="build"
	    cache="depcache"
	    closure="yes">
      <include name="**/*.java"/>
      <excludesfile name="excludes"/>
      <classpath>
	<pathelement location="../ImageJA/ij.jar"/>
	<pathelement location="/usr/share/java/jzlib.jar"/>
	<pathelement location="/usr/share/java/junit4.jar"/>
      </classpath>
    </depend>

    <!-- Compile all the Java files in src/ -->
    <javac srcdir="." destdir="build">
      <include name="**/*.java"/>
      <excludesfile name="excludes"/>
      <classpath>
	<pathelement location="../ImageJA/ij.jar"/>
	<pathelement location="/usr/share/java/jzlib.jar"/>
	<pathelement location="/usr/share/java/junit4.jar"/>
      </classpath>
    </javac>

    <copy todir="build">
      <fileset dir=".">
	<include name="**/*.png"/>
	<exclude name="build/**"/>
      </fileset>
    </copy>

    <jar destfile="VIB_.jar" basedir="build"/>

  </target>  
        
</project>
